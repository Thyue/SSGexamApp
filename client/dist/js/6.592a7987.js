"use strict";(self["webpackChunkssg60th_d_exam_client"]=self["webpackChunkssg60th_d_exam_client"]||[]).push([[6],{8755:function(e,t,a){a.d(t,{A:function(){return X}});var i=a(6768),s=a(5130),l=a(4232);const o={xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},n=(0,i.Fv)('<symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol>',3),c=[n],r={class:"container"},h={class:"alert-background"},d={class:"col-12"},m={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"},u=(0,i.Lk)("use",{"xlink:href":"#check-circle-fill"},null,-1),p=[u],k={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Info:"},T=(0,i.Lk)("use",{"xlink:href":"#info-fill"},null,-1),E=[T],f={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Warning:"},b=(0,i.Lk)("use",{"xlink:href":"#exclamation-triangle-fill"},null,-1),M=[b],G={class:"alert-heading d-inline m-1"},L=(0,i.Lk)("div",{class:"col-12"},[(0,i.Lk)("hr")],-1),x={class:"col-12"},y={key:0,class:"col-12 d-grid gap-2"},g={key:1,class:"col-6 d-grid gap-2"},S={key:2,class:"col-6 d-grid gap-2"};function v(e,t,a,n,u,T){return(0,i.uX)(),(0,i.CE)(i.FK,null,[((0,i.uX)(),(0,i.CE)("svg",o,c)),(0,i.Lk)("div",r,[(0,i.bo)((0,i.Lk)("div",h,null,512),[[s.aG,e.$store.state.alertVisible]]),(0,i.bo)((0,i.Lk)("div",{class:(0,l.C4)(["alert row",T.typeColor1]),role:"alert"},[(0,i.Lk)("div",d,[(0,i.bo)(((0,i.uX)(),(0,i.CE)("svg",m,p,512)),[[s.aG,"primary"===a.MSGTYPE]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("svg",k,E,512)),[[s.aG,"warning"===a.MSGTYPE]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("svg",f,M,512)),[[s.aG,"danger"===a.MSGTYPE]]),(0,i.Lk)("h4",G,(0,l.v_)(a.TITLE),1)]),L,(0,i.Lk)("div",x,[(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.TEXT,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:t},(0,l.v_)(e),1)))),128))])]),"OKOnly"===a.MODE?((0,i.uX)(),(0,i.CE)("div",y,[(0,i.Lk)("button",{type:"button",class:(0,l.C4)(T.typeColor2),onClick:t[0]||(t[0]=t=>e.$emit("alertCheck",!0,"OK"))},"確定",2)])):(0,i.Q3)("",!0),"OKCancel"===a.MODE?((0,i.uX)(),(0,i.CE)("div",g,[(0,i.Lk)("button",{type:"button",class:(0,l.C4)(T.typeColor2),onClick:t[1]||(t[1]=t=>e.$emit("alertCheck",!0,"OK"))},"確定",2)])):(0,i.Q3)("",!0),"OKCancel"===a.MODE?((0,i.uX)(),(0,i.CE)("div",S,[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:t[2]||(t[2]=t=>e.$emit("alertCheck",!0,"Cancel"))},"取消")])):(0,i.Q3)("",!0)],2),[[s.aG,e.$store.state.alertVisible]])])],64)}var C={name:":Alert",props:{MODE:String,MSGTYPE:String,TITLE:String,TEXT:Array},emits:["alertCheck"],data(){return{}},methods:{},computed:{typeColor1:function(){return"primary"===this.MSGTYPE?"alert-primary":"warning"===this.MSGTYPE?"alert-warning":"danger"===this.MSGTYPE?"alert-danger":void 0},typeColor2:function(){return"primary"===this.MSGTYPE?"btn btn-primary btn-sm":"warning"===this.MSGTYPE?"btn btn-warning btn-sm":"danger"===this.MSGTYPE?"btn btn-danger btn-sm":void 0}},watch:{}},O=a(1241);const _=(0,O.A)(C,[["render",v]]);var X=_},1006:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var i=a(6768),s=a(4232),l=a(5130);const o={class:"container"},n=(0,i.Lk)("h2",{class:"text-center"},"測驗大廳",-1),c={class:"fst-italic"},r={class:"row"},h=(0,i.Lk)("div",{class:"col-12"},[(0,i.Lk)("h3",{class:"mb-3"},"◎ 測驗科目")],-1),d={class:"col-12"},m={class:"form-check form-check-inline"},u=(0,i.Lk)("label",{class:"form-check-label",for:"examTypeRadio1"},"準則",-1),p={class:"form-check form-check-inline"},k=(0,i.Lk)("label",{class:"form-check-label",for:"examTypeRadio2"},"學科",-1),T=(0,i.Lk)("div",{class:"col-12"},[(0,i.Lk)("h3",{class:"my-3"},"◎ 測驗題組")],-1),E={key:0,class:"col-12"},f={class:"form-check"},b=["value","id"],M=["for"],G={key:1,class:"col-12"},L=(0,i.Lk)("p",{class:"text-warning bg-dark text-center"},"**目前尚未有題組資料**",-1),x=[L],y=(0,i.Lk)("div",{class:"col-12"},[(0,i.Lk)("h3",{class:"my-3"},"◎ 測驗模式")],-1),g={class:"col-12"},S={class:"form-check form-check-inline"},v=(0,i.Lk)("label",{class:"form-check-label",for:"modeRadio1"},"K書模式",-1),C={class:"form-check form-switch form-check-inline"},O=["disabled"],_=(0,i.Lk)("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},"打亂選項",-1),X={class:"col-12"},w={class:"form-check"},D=(0,i.Lk)("label",{class:"form-check-label",for:"modeRadio2"},"模擬測驗",-1),I={class:"form-check"},R=(0,i.Lk)("label",{class:"form-check-label",for:"modeRadio3"},"弱點測驗",-1),A={class:"col-12 d-grid gap-2 my-2"},K=["disabled"];function Y(e,t,a,L,Y,P){const V=(0,i.g2)("Alert");return(0,i.uX)(),(0,i.CE)("div",o,[n,(0,i.bF)(V,{MODE:Y.MSG.MODE,MSGTYPE:Y.MSG.TYPE,TITLE:Y.MSG.TITLE,TEXT:Y.MSG.TEXT,onAlertCheck:t[0]||(t[0]=(e,t)=>Y.alertCheck={isClick:e,OKorCancel:t})},null,8,["MODE","MSGTYPE","TITLE","TEXT"]),(0,i.Lk)("p",c,"更新時間："+(0,s.v_)(Y.updateTime),1),(0,i.Lk)("form",r,[h,(0,i.Lk)("div",d,[(0,i.Lk)("div",m,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"radio",name:"examTypeRadioOptions",id:"examTypeRadio1",value:"準則",checked:"","onUpdate:modelValue":t[1]||(t[1]=e=>Y.examType=e)},null,512),[[l.XL,Y.examType]]),u]),(0,i.Lk)("div",p,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"radio",name:"examTypeRadioOptions",id:"examTypeRadio2",value:"學科","onUpdate:modelValue":t[2]||(t[2]=e=>Y.examType=e)},null,512),[[l.XL,Y.examType]]),k])]),T,0!==Y.questionGroup.length?((0,i.uX)(),(0,i.CE)("div",E,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Y.questionGroup,(e=>((0,i.uX)(),(0,i.CE)("div",f,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"checkbox",value:e.QGID,id:e.QGID,"onUpdate:modelValue":t[3]||(t[3]=e=>Y.exam_QGID_select=e)},null,8,b),[[l.lH,Y.exam_QGID_select]]),(0,i.Lk)("label",{class:"form-check-label",for:e.QGID},(0,s.v_)(e.subject),9,M)])))),256))])):((0,i.uX)(),(0,i.CE)("div",G,x)),y,(0,i.Lk)("div",g,[(0,i.Lk)("div",S,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"radio",name:"modeRadioOptions",id:"modeRadio1",value:"K書模式",checked:"","onUpdate:modelValue":t[4]||(t[4]=e=>Y.examMode=e)},null,512),[[l.XL,Y.examMode]]),v]),(0,i.Lk)("div",C,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked","onUpdate:modelValue":t[5]||(t[5]=e=>Y.isRandom=e),disabled:Y.randomLock},null,8,O),[[l.lH,Y.isRandom]]),_])]),(0,i.Lk)("div",X,[(0,i.Lk)("div",w,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"radio",name:"modeRadioOptions",id:"modeRadio2",value:"模擬測驗","onUpdate:modelValue":t[6]||(t[6]=e=>Y.examMode=e)},null,512),[[l.XL,Y.examMode]]),D]),(0,i.Lk)("div",I,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"radio",name:"modeRadioOptions",id:"modeRadio3",value:"弱點測驗","onUpdate:modelValue":t[7]||(t[7]=e=>Y.examMode=e)},null,512),[[l.XL,Y.examMode]]),R])]),(0,i.Lk)("div",A,[(0,i.Lk)("button",{class:"btn btn-primary btn-lg",type:"button",onClick:t[8]||(t[8]=e=>P.startExam()),disabled:0===Y.questionGroupData.length},"開始測驗",8,K)])])])}a(4114);var P=a(9325),V=a(8755),N={name:"ExamLobby",components:{Alert:V.A},data(){return{MSG:{MODE:"",TYPE:"",TITLE:"",TEXT:[]},alertCheck:!1,funcNum:0,updateTime:"",questionGroupData:[],questionGroup:[],examType:"準則",examMode:"K書模式",isRandom:!1,randomLock:!1,exam_QGID_select:[],exam_Name_select:[]}},methods:{startExam(){let e={};if(0===this.exam_QGID_select.length)return this.alertVisible=!0,this.MSG.MODE="OKOnly",this.funcNum=-1,this.MSG.TYPE="warning",this.MSG.TITLE="系統警告",void(this.MSG.TEXT=["請選擇至少1組準則或學科。"]);this.exam_QGID_select.forEach((e=>{console.log(e),this.exam_Name_select.push(this.questionGroupData.find((t=>t.QGID===e)).subject)})),this.$http.post("api/questionExam/productExam",{questionGroupID:this.exam_QGID_select,qusetionGroupName:this.exam_Name_select,examType:this.examType,examMode:this.examMode,isRandom:this.isRandom}).then((t=>460===t.data.code?(this.exam_Name_select=[],this.alertVisible=!0,this.MSG.MODE="OKOnly",this.funcNum=-1,this.MSG.TYPE="warning",this.MSG.TITLE="系統警告",this.MSG.TEXT=[],this.MSG.TEXT=this.MSG.TEXT.concat(t.data.msg),void(""!==t.data.sys&&this.MSG.TEXT.push(t.data.sys))):461===t.data.code?(this.exam_Name_select=[],this.alertVisible=!0,this.MSG.MODE="OKOnly",this.funcNum=-1,this.MSG.TYPE="primary",this.MSG.TITLE="系統提示",this.MSG.TEXT=[],this.MSG.TEXT=this.MSG.TEXT.concat(t.data.msg),void(""!==t.data.sys&&this.MSG.TEXT.push(t.data.sys))):(e=t.data.data,e.examType=this.examType,e.examMode=this.examMode,e.isRandom=this.isRandom,e.exam_QGID_list=this.exam_QGID_select,e.TFQ.forEach((e=>{e.answer="",e.result=!1,e.weight=0})),e.SCQ.forEach((e=>{e.correctIndex=e.options.indexOf(e.correct)+1,e.answer="",e.answerIndex="",e.result=!1,e.weight=0})),e.MCQ.forEach((e=>{e.correctIndex=[],e.correct.forEach((t=>{e.correctIndex.push(e.options.indexOf(t)+1)})),e.correctIndex.sort(((e,t)=>e-t)),e.answer=[],e.answerIndex=[],e.result=!1,e.weight=0})),this.$store.commit("SET_EXAMINATION",e),void P.A.push("/exam")))).catch((e=>{this.exam_Name_select=[],this.alertVisible=!0,this.MSG.MODE="OKOnly",this.funcNum=-1,this.MSG.TYPE="danger",this.MSG.TITLE="系統錯誤",this.MSG.TEXT=[],this.MSG.TEXT.push(e)}))},hideAlert(){this.$store.commit("SET_ALERT_VISIBLE",!1),this.alertVisible=!1}},created(){this.$http.get("api/questionManage/getUpdateTime").then((e=>{const t=new Date(e.data.data).getFullYear()-1911,a=new Date(e.data.data).getMonth()+1,i=new Date(e.data.data).getDate(),s=new Date(e.data.data).getHours(),l=new Date(e.data.data).getMinutes();this.updateTime=`${t}年${a}月${i}日 ${s}時${l}分`})).catch((e=>{this.alertVisible=!0,this.MSG.MODE="OKOnly",this.funcNum=-1,this.MSG.TYPE="danger",this.MSG.TITLE="系統錯誤",this.MSG.TEXT=[],this.MSG.TEXT.push(e)})),this.$http.get("api/questionManage/getQuestionGroupList").then((e=>{this.questionGroupData=e.data.data,this.questionGroup=this.questionGroupData.filter((e=>"準則"===e.type))})).catch((e=>{this.alertVisible=!0,this.MSG.MODE="OKOnly",this.funcNum=-1,this.MSG.TYPE="danger",this.MSG.TITLE="系統錯誤",this.MSG.TEXT=[],this.MSG.TEXT.push(e)}))},mounted(){},computed:{alertVisible:{get(){return this.$store.state.alertVisible},set(e){this.$store.commit("SET_ALERT_VISIBLE",e)}}},watch:{examType(e){this.questionGroup="準則"===e?this.questionGroupData.filter((e=>"準則"===e.type)):this.questionGroupData.filter((e=>"學科"===e.type))},examMode(e){"模擬測驗"===e||"弱點測驗"===e?(this.isRandom=!0,this.randomLock=!0):(this.isRandom=!1,this.randomLock=!1)},alertCheck:function(e){if(e.isClick)if("OK"===e.OKorCancel){if(0===this.funcNum)return;-1===this.funcNum?this.hideAlert():-2===this.funcNum&&(this.hideAlert(),this.$router.go(-1))}else"Cancel"===e.OKorCancel&&this.hideAlert()}}},Q=a(1241);const $=(0,Q.A)(N,[["render",Y]]);var q=$}}]);
//# sourceMappingURL=6.592a7987.js.map