"use strict";(self["webpackChunkssg60th_d_exam_client"]=self["webpackChunkssg60th_d_exam_client"]||[]).push([[58],{2204:function(s,t,r){r.d(t,{A:function(){return G}});var e=r(6768),a=r(4232),i=r(5130);const n={xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},l=(0,e.Fv)('<symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol>',3),o=[l],d={class:"container"},c={class:"col-12"},u={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"},h=(0,e.Lk)("use",{"xlink:href":"#check-circle-fill"},null,-1),p=[h],E={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Info:"},m=(0,e.Lk)("use",{"xlink:href":"#info-fill"},null,-1),g=[m],k={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Warning:"},w=(0,e.Lk)("use",{"xlink:href":"#exclamation-triangle-fill"},null,-1),b=[w],L={class:"alert-heading d-inline m-1"},M=(0,e.Lk)("div",{class:"col-12"},[(0,e.Lk)("hr")],-1),v={class:"col-12"},f=(0,e.Lk)("button",{type:"button",class:"btn btn-secondary btn-sm"},"取消",-1),C=[f];function T(s,t,r,l,h,m){return(0,e.uX)(),(0,e.CE)(e.FK,null,[((0,e.uX)(),(0,e.CE)("svg",n,o)),(0,e.Lk)("div",d,[(0,e.bo)((0,e.Lk)("div",{class:(0,a.C4)(["alert row",m.typeColor1]),role:"alert"},[(0,e.Lk)("div",c,[(0,e.bo)(((0,e.uX)(),(0,e.CE)("svg",u,p,512)),[[i.aG,"primary"===r.MSGTYPE]]),(0,e.bo)(((0,e.uX)(),(0,e.CE)("svg",E,g,512)),[[i.aG,"warning"===r.MSGTYPE]]),(0,e.bo)(((0,e.uX)(),(0,e.CE)("svg",k,b,512)),[[i.aG,"danger"===r.MSGTYPE]]),(0,e.Lk)("h4",L,(0,a.v_)(r.TITLE),1)]),M,(0,e.Lk)("div",v,[(0,e.Lk)("ul",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.TEXT,((s,t)=>((0,e.uX)(),(0,e.CE)("li",{key:t},(0,a.v_)(s),1)))),128))])]),"OKOnly"===r.MODE?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"col-12 d-grid gap-2",onClick:t[0]||(t[0]=(...s)=>m.hideAlert&&m.hideAlert(...s))},[(0,e.Lk)("button",{type:"button",class:(0,a.C4)(m.typeColor2)},"確定",2)])):(0,e.Q3)("",!0),"OKCancel"===r.MODE?((0,e.uX)(),(0,e.CE)("div",{key:1,class:"col-6 d-grid gap-2",onClick:t[1]||(t[1]=t=>s.$emit("alertCheck",!0))},[(0,e.Lk)("button",{type:"button",class:(0,a.C4)(m.typeColor2)},"確定",2)])):(0,e.Q3)("",!0),"OKCancel"===r.MODE?((0,e.uX)(),(0,e.CE)("div",{key:2,class:"col-6 d-grid gap-2",onClick:t[2]||(t[2]=(...s)=>m.hideAlert&&m.hideAlert(...s))},C)):(0,e.Q3)("",!0)],2),[[i.aG,s.$store.state.alertVisible]])])],64)}var y={name:":Alert",props:{MODE:String,MSGTYPE:String,TITLE:String,TEXT:Array},emits:["alertCheck"],data(){return{}},methods:{hideAlert(){this.$store.commit("SET_ALERT_VISIBLE",!1)}},computed:{typeColor1:function(){return"primary"===this.MSGTYPE?"alert-primary":"warning"===this.MSGTYPE?"alert-warning":"danger"===this.MSGTYPE?"alert-danger":void 0},typeColor2:function(){return"primary"===this.MSGTYPE?"btn btn-primary btn-sm":"warning"===this.MSGTYPE?"btn btn-warning btn-sm":"danger"===this.MSGTYPE?"btn btn-danger btn-sm":void 0}}},I=r(1241);const S=(0,I.A)(y,[["render",T]]);var G=S},6973:function(s,t,r){r.d(t,{A:function(){return g}});var e=r(6768),a=r(5130);const i={class:"text-center loading"},n=(0,e.Lk)("div",{class:"spinner-grow text-info",style:{width:"5rem",height:"5rem"},role:"status"},[(0,e.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),l=(0,e.Lk)("div",{class:"spinner-grow text-warning",style:{width:"5rem",height:"5rem"},role:"status"},[(0,e.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),o=(0,e.Lk)("p",null,"正在加載中...",-1),d=(0,e.Lk)("div",{class:"spinner-grow text-danger",style:{width:"5rem",height:"5rem"},role:"status"},[(0,e.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),c=(0,e.Lk)("div",{class:"spinner-grow text-primary",style:{width:"5rem",height:"5rem"},role:"status"},[(0,e.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),u=[n,l,o,d,c];function h(s,t,r,n,l,o){return(0,e.bo)(((0,e.uX)(),(0,e.CE)("div",i,u,512)),[[a.aG,s.$store.state.loader]])}var p={name:":Loading"},E=r(1241);const m=(0,E.A)(p,[["render",h]]);var g=m},8058:function(s,t,r){r.r(t),r.d(t,{default:function(){return N}});r(4114);var e=r(6768),a=r(4232),i=r(5130);const n={class:"container"},l=(0,e.Lk)("h2",{class:"text-center"},"註冊頁面",-1),o={class:"row"},d={class:"col-12"},c={class:"form-floating mb-3"},u=(0,e.Lk)("label",{for:"studentIDInput"},"學號(依實際填寫)",-1),h={class:"invalid-feedback text-end"},p={class:"form-floating mb-3"},E=(0,e.Lk)("label",{for:"userNameInput"},"名稱(中文2~5字)",-1),m={class:"invalid-feedback text-end"},g={class:"form-floating mb-3"},k=(0,e.Lk)("label",{for:"accountInput"},"帳號(英數5碼)",-1),w={class:"invalid-feedback text-end"},b={class:"form-floating mb-3"},L=(0,e.Lk)("label",{for:"passwordInput"},"密碼(大小英數8碼)",-1),M={class:"invalid-feedback text-end"},v={class:"form-floating mb-3"},f=(0,e.Lk)("label",{for:"passwordChk"},"密碼確認",-1),C={class:"invalid-feedback text-end"},T={class:"col-6 d-grid gap-2"},y={class:"col-6 d-grid gap-2"};function I(s,t,r,I,S,G){const D=(0,e.g2)("Alert"),x=(0,e.g2)("Loader");return(0,e.uX)(),(0,e.CE)("div",n,[l,(0,e.bF)(D,{MODE:S.MSG.MODE,MSGTYPE:S.MSG.TYPE,TITLE:S.MSG.TITLE,TEXT:S.MSG.TEXT,onAlertCheck:t[0]||(t[0]=s=>S.alertCheck=s)},null,8,["MODE","MSGTYPE","TITLE","TEXT"]),(0,e.bF)(x),(0,e.Lk)("form",o,[(0,e.Lk)("div",d,[(0,e.Lk)("div",c,[(0,e.bo)((0,e.Lk)("input",{type:"text",class:(0,a.C4)(["form-control",{"is-invalid":S.studentIDErr}]),name:"studentIDInput","onUpdate:modelValue":t[1]||(t[1]=s=>S.studentID=s),placeholder:"學號"},null,2),[[i.Jo,S.studentID]]),u,(0,e.Lk)("div",h,(0,a.v_)(S.studentIDErrMsg),1)]),(0,e.Lk)("div",p,[(0,e.bo)((0,e.Lk)("input",{type:"text",class:(0,a.C4)(["form-control",{"is-invalid":S.userNameErr}]),name:"userNameInput","onUpdate:modelValue":t[2]||(t[2]=s=>S.userName=s),placeholder:"名稱"},null,2),[[i.Jo,S.userName]]),E,(0,e.Lk)("div",m,(0,a.v_)(S.userNameErrMsg),1)]),(0,e.Lk)("div",g,[(0,e.bo)((0,e.Lk)("input",{type:"text",class:(0,a.C4)(["form-control",{"is-invalid":S.accountErr}]),name:"accountInput","onUpdate:modelValue":t[3]||(t[3]=s=>S.account=s),placeholder:"帳號"},null,2),[[i.Jo,S.account]]),k,(0,e.Lk)("div",w,(0,a.v_)(S.accountErrMsg),1)]),(0,e.Lk)("div",b,[(0,e.bo)((0,e.Lk)("input",{type:"new-password",class:(0,a.C4)(["form-control",{"is-invalid":S.passwordErr}]),name:"passwordInput","onUpdate:modelValue":t[4]||(t[4]=s=>S.password=s),placeholder:"密碼"},null,2),[[i.Jo,S.password]]),L,(0,e.Lk)("div",M,(0,a.v_)(S.passwordErrMsg),1)]),(0,e.Lk)("div",v,[(0,e.bo)((0,e.Lk)("input",{type:"current-password",class:(0,a.C4)(["form-control",{"is-invalid":S.passwordChkErr}]),name:"passwordChkInput","onUpdate:modelValue":t[5]||(t[5]=s=>S.passwordChk=s),placeholder:"密碼確認"},null,2),[[i.Jo,S.passwordChk]]),f,(0,e.Lk)("div",C,(0,a.v_)(S.passwordChkErrMsg),1)])]),(0,e.Lk)("div",T,[(0,e.Lk)("button",{class:"btn btn-primary btn-lg",type:"button",onClick:t[6]||(t[6]=(...s)=>G.register&&G.register(...s))},"註冊")]),(0,e.Lk)("div",y,[(0,e.Lk)("button",{class:"btn btn-secondary btn-lg",type:"button",onClick:t[7]||(t[7]=t=>s.$router.push("/"))},"取消")])])])}var S=r(2204),G=r(6973),D={name:"Register",components:{Alert:S.A,Loader:G.A},data(){return{MSG:{MODE:"",TYPE:"",TITLE:"",TEXT:[]},alertCheck:!1,studentID:"",studentIDErr:!1,studentIDErrMsg:"",userName:"",userNameErr:!1,userNameErrMsg:"",account:"",accountErr:!1,accountErrMsg:"",password:"",passwordErr:!1,passwordErrMsg:"",passwordChk:"",passwordChkErr:!1,passwordChkErrMsg:""}},methods:{register(){""===this.studentID.trim()&&(this.studentIDErr=!0,this.studentIDErrMsg="請輸入學號"),""===this.userName.trim()&&(this.userNameErr=!0,this.userNameErrMsg="請輸入名稱"),""===this.account.trim()&&(this.accountErr=!0,this.accountErrMsg="請輸入帳號"),""===this.password.trim()&&(this.passwordErr=!0,this.passwordErrMsg="請輸入密碼"),""===this.passwordChk.trim()&&(this.passwordChkErr=!0,this.passwordChkErrMsg="請輸入密碼確認"),this.studentIDErr||this.userNameErr||this.accountErr||this.passwordErr||this.passwordChkErr||this.$http.post("api/users/register",{studentID:this.studentID,name:this.userName,account:this.account,password:this.password}).then((s=>{200===s.data.code?(this.alertVisible=!0,this.MSG.MODE="OKOnly",this.MSG.TYPE="primary",this.MSG.TITLE="系統提示",this.MSG.TEXT=s.data.msg,setTimeout((()=>{this.$router.push("/")}),2e3)):400===s.data.code&&(this.alertVisible=!0,this.MSG.MODE="OKOnly",this.MSG.TYPE="danger",this.MSG.TITLE="系統錯誤",this.MSG.TEXT=s.data.msg)})).catch((s=>{this.alertVisible=!0,this.MSG.MODE="OKOnly",this.MSG.TYPE="danger",this.MSG.TITLE="系統錯誤",this.MSG.TEXT=[s]}))}},mounted(){},computed:{alertVisible:{get(){return this.$store.state.alertVisible},set(s){this.$store.commit("SET_ALERT_VISIBLE",s)}}},watch:{alertCheck:function(s){},studentID:function(){const s=/^\d{1,3}$/;s.test(this.studentID)?this.studentIDErr=!1:(this.studentIDErr=!0,this.studentIDErrMsg="僅接受三位數「數字」")},userName:function(){const s=/[\u4E00-\u9FFF]+/g;s.test(this.userName)?this.userName.length<2||this.userName.length>5?(this.userNameErr=!0,this.userNameErrMsg="請輸入2~5個字"):this.userNameErr=!1:(this.userNameErr=!0,this.userNameErrMsg="請輸入中文名稱")},account:function(){const s=/^[a-zA-Z0-9]+$/;s.test(this.account)?this.account.length<5?(this.accountErr=!0,this.accountErrMsg="請勿少於5個字"):this.accountErr=!1:(this.accountErr=!0,this.accountErrMsg="請勿包含特殊字元")},password:function(){const s=/^[a-zA-Z0-9]+$/,t=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/;s.test(this.password)?this.password.length<8?(this.passwordErr=!0,this.passwordErrMsg="請勿少於8個字"):t.test(this.password)?this.passwordErr=!1:(this.passwordErr=!0,this.passwordErrMsg="至少包括一個大小寫字母或數字"):(this.passwordErr=!0,this.passwordErrMsg="請勿包含特殊字元")},passwordChk:function(){this.passwordChk!==this.password?(this.passwordChkErr=!0,this.passwordChkErrMsg="密碼不一致"):this.passwordChkErr=!1}}},x=r(1241);const A=(0,x.A)(D,[["render",I]]);var N=A}}]);
//# sourceMappingURL=58.b4cf3f95.js.map